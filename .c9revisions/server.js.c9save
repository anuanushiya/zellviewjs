{"ts":1353968159712,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/* Main application entry file. Please note, the order of loading is important.\n * Configuration loading and booting of controllers and custom error handlers */\n\nvar express = require('express')\n  , fs = require('fs')\n  , passport = require('passport')\n\nrequire('express-namespace')\n\n// Load configurations\nvar env = process.env.NODE_ENV || 'development'\n  , config = require('./config/config')[env]\n  , auth = require('./authorization')\n\n// Bootstrap db connection\nvar mongoose = require('mongoose')\n  , Schema = mongoose.Schema\nmongoose.connect(config.db)\n\n// Bootstrap models\nvar models_path = __dirname + '/app/models'\n  , model_files = fs.readdirSync(models_path)\nmodel_files.forEach(function (file) {\n  require(models_path+'/'+file)\n})\n\n// bootstrap passport config\nrequire('./config/passport').boot(passport, config)\n\nvar app = express()                                       // express app\nrequire('./settings').boot(app, config, passport)         // Bootstrap application settings\n\n// Bootstrap routes\nrequire('./config/routes')(app, passport, auth)\n\n// Start the app by listening on <port>\nvar port = process.env.PORT || 3000\n//var port = process.env.C9_PORT || 3000\n\napp.listen(port)\nconsole.log('Express app started on port '+port)\n"]],"start1":0,"start2":0,"length1":0,"length2":1244}]],"length":1244}
